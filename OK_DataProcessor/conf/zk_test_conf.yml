sleep_seconds: 10

# APP_LIST section ---> Liet ke danh sach app
# KHONG SU DUNG
app_list:
    - "EBANK_INTERNET"
    - "EBANK_ADMIN"
    - "EGATE"
    - "MDB"
    - "SMPP"
    - "COREBS"
    - "DB_FCC"
    - "DB_XCARD"
    - "DB_EBANK"


# INTERNAL section
# Kiem tra trang thai noi tai cua app
# Quyet dinh trang trang thai app dua vao ket qua lay duoc tu Spy
status_check:
    - 
        name: "EBANK_INTERNET"
        # importance: danh sach nhung task quan trong
        #   Neu TAT CA ket qua deu la TRUE ---> internal_status = *OK*
        #   Neu CO 1 DIEU KIEN FALSE ---> Kiem tra mini_expression
        #     Neu mini_expression = TRUE ---> internal_status = *WARN*
        #     Neu mini_expression = FALSE ---> internal_status = *FAIL*
        importance:
            - "test_0.0.1-->is_process_running"
            - "test_0.0.1-->is_port_openning__localhost_22"
            - "test_0.0.1-->is_log_file_still_update"
        mini_expression: "{{test_0.0.1-->is_process_running}} && ({{test_0.0.1-->is_port_openning__localhost_22}} || {{test_0.0.1-->is_log_file_still_update}})"
        # EXTERNAL section
        # Quyet dinh tinh trang app dua tren moi quan he voi cac app khac ma app nay phu thuoc
        # Gợi ý xử lý: lặp từng app, kiểm tra trạng thái của dependencies trước
        #   Khi kiểm tra, nhớ bỏ vào LIFO để kiểm tra có bị LOOP hay không 
        #     ---> Nếu LOOP ---> Lấy luôn internal_status của app đang bị LOOP
        dependencies:
            - "COREBS"
            - "DB_XCARD"
            - "DB_FCC"
    - 
        name: "EBANK_ADMIN"
        importance:
            - "test_0.0.1-->is_process_running"
            - "test_0.0.1-->is_port_openning__localhost_22"
            - "test_0.0.1-->is_log_file_still_update"
        mini_expression:
            - "{{test_0.0.1-->is_process_running}} && ({{test_0.0.1-->is_port_openning__localhost_22}} || {{test_0.0.1-->is_log_file_still_update}})"
        dependencies:
            - "COREBS"
            - "DB_XCARD"
            - "DB_FCC"
    - 
        name: "COREBS"
        dependencies:
            - "DB_XCARD"
            - "DB_FCC"
    - 
        name: "DB_XCARD"
    - 
        name: "DB_FCC"
